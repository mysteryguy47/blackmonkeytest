"use strict";(()=>{var a={};a.id=32,a.ids=[32],a.modules={75600:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},97774:(a,b,c)=>{c.r(b),c.d(b,{config:()=>config,default:()=>next_route_loaderkind_PAGES_API_page_2Fapi_2Fcreate_order_preferredRegion_absolutePagePath_private_next_pages_2Fapi_2Fcreate_order_js_middlewareConfigBase64_e30_3D_,handler:()=>k});var d,e,f,g={};c.r(g),c.d(g,{default:()=>j});var h=c(29046),i=(c(8667),c(33480),c(86435),Error("Cannot find module 'cashfree-pg-sdk-javascript'"));throw i.code="MODULE_NOT_FOUND",i;async function j(a,b){if("POST"!==a.method)return void b.status(405).json({error:"Only POST allowed"});let{order_amount:c,customer_name:d,customer_email:e,customer_phone:f}=a.body,g=Object(function(){var a=Error("Cannot find module 'cashfree-pg-sdk-javascript'");throw a.code="MODULE_NOT_FOUND",a}())(Object(function(){var a=Error("Cannot find module 'cashfree-pg-sdk-javascript'");throw a.code="MODULE_NOT_FOUND",a}()).SANDBOX,process.env.CASHFREE_APP_ID,process.env.CASHFREE_SECRET_KEY);try{let a={order_amount:c.toString(),order_currency:"INR",customer_details:{customer_id:"cust_"+Date.now(),customer_name:d,customer_email:e,customer_phone:f},order_meta:{return_url:`${process.env.NEXT_PUBLIC_BASE_URL}/payment-result`}},h=(await g.PGCreateOrder(a)).data;b.status(200).json({orderId:h.order_id,paymentSessionId:h.payment_session_id})}catch(a){console.error("Error creating Cashfree order:",a),b.status(500).json({error:"Could not create order"})}}async function k(a,b,c){routeModule.isDev&&(0,f.addRequestMeta)(a,"devRequestTimingInternalsEnd",process.hrtime.bigint());let g="/api/create-order",i=await routeModule.prepare(a,b,{srcPage:g});if(!i){b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve());return}let{query:j,params:k,prerenderManifest:l,routerServerContext:m}=i;try{let c=a.method||"GET",f=(0,d.getTracer)(),h=f.getActiveScopeSpan(),i=routeModule.instrumentationOnRequestError.bind(routeModule),n=async d=>routeModule.render(a,b,{query:{...j,...k},params:k,allowedRevalidateHeaderKeys:[],multiZoneDraftMode:!1,trustHostHeader:!1,previewProps:l.preview,propagateError:!1,dev:routeModule.isDev,page:"/api/create-order",internalRevalidate:null==m?void 0:m.revalidate,onError:(...b)=>i(a,...b)}).finally(()=>{if(!d)return;d.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let a=f.getRootSpanAttributes();if(!a)return;if(a.get("next.span_type")!==e.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${a.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let h=a.get("next.route");if(h){let a=`${c} ${h}`;d.setAttributes({"next.route":h,"http.route":h,"next.span_name":a}),d.updateName(a)}else d.updateName(`${c} ${g}`)});h?await n(h):await f.withPropagatedContext(a.headers,()=>f.trace(e.BaseServerSpan.handleRequest,{spanName:`${c} ${g}`,kind:d.SpanKind.SERVER,attributes:{"http.method":c,"http.target":a.url}},n))}catch(a){if(routeModule.isDev)throw a;(0,h.sendError)(b,500,"Internal Server Error")}finally{null==c.waitUntil||c.waitUntil.call(c,Promise.resolve())}}}};var b=require("../../webpack-api-runtime.js");b.C(a);var c=b.X(0,[30],()=>b(b.s=97774));module.exports=c})();